<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>RosharDocs: PieceMovement Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">RosharDocs
   </div>
   <div id="projectbrief">Documentation for William&#39;s game</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('class_piece_movement.html','','class_piece_movement-members'); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">PieceMovement Class Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for PieceMovement:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_piece_movement.png" alt=""/>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pub-methods" class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ad1f11c258c3aa9645b128a07c9619d23" id="r_ad1f11c258c3aa9645b128a07c9619d23"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad1f11c258c3aa9645b128a07c9619d23">lockPiece</a> ()</td></tr>
<tr class="memitem:af4421cb1c3344bce2a03b33c0122fb17" id="r_af4421cb1c3344bce2a03b33c0122fb17"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af4421cb1c3344bce2a03b33c0122fb17">unlockPiece</a> ()</td></tr>
<tr class="memitem:ad1bb0e895043145c393c051db6a2ac58" id="r_ad1bb0e895043145c393c051db6a2ac58"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad1bb0e895043145c393c051db6a2ac58">IsLocked</a> ()</td></tr>
<tr class="memitem:a4c04801b5e78e6082c04c506f3745449" id="r_a4c04801b5e78e6082c04c506f3745449"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4c04801b5e78e6082c04c506f3745449">moveTo</a> (Vector3Int newPos)</td></tr>
<tr class="memitem:a24faac7b2e25ad0fca7a78bdfa7d41cd" id="r_a24faac7b2e25ad0fca7a78bdfa7d41cd"><td class="memItemLeft" align="right" valign="top"><a id="a24faac7b2e25ad0fca7a78bdfa7d41cd" name="a24faac7b2e25ad0fca7a78bdfa7d41cd"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>getOnMap</b> ()</td></tr>
<tr class="memitem:a2a59ccb8791b07df94d9ab219b7e4020" id="r_a2a59ccb8791b07df94d9ab219b7e4020"><td class="memItemLeft" align="right" valign="top"><a id="a2a59ccb8791b07df94d9ab219b7e4020" name="a2a59ccb8791b07df94d9ab219b7e4020"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setOnMap</b> (bool onMap)</td></tr>
<tr class="memitem:ad07f1e0b918cb3430b9cf9faacabdedc" id="r_ad07f1e0b918cb3430b9cf9faacabdedc"><td class="memItemLeft" align="right" valign="top"><a id="ad07f1e0b918cb3430b9cf9faacabdedc" name="ad07f1e0b918cb3430b9cf9faacabdedc"></a>
Vector3Int&#160;</td><td class="memItemRight" valign="bottom"><b>getCurPos</b> ()</td></tr>
<tr class="memitem:ac5be885c3fb4aab576f713a549352417" id="r_ac5be885c3fb4aab576f713a549352417"><td class="memItemLeft" align="right" valign="top"><a id="ac5be885c3fb4aab576f713a549352417" name="ac5be885c3fb4aab576f713a549352417"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setCurPos</b> (Vector3Int <a class="el" href="#a207fe350e2ee76c36d02bc7d5f68271a">curPos</a>)</td></tr>
<tr class="memitem:a0362addf5d5c8d0958c0c330bea59dcf" id="r_a0362addf5d5c8d0958c0c330bea59dcf"><td class="memItemLeft" align="right" valign="top"><a id="a0362addf5d5c8d0958c0c330bea59dcf" name="a0362addf5d5c8d0958c0c330bea59dcf"></a>
Vector3Int[]&#160;</td><td class="memItemRight" valign="bottom"><b>getNeighbourOffset</b> ()</td></tr>
<tr class="memitem:a14284318034cd3a198a2e8ed4722a14d" id="r_a14284318034cd3a198a2e8ed4722a14d"><td class="memItemLeft" align="right" valign="top"><a id="a14284318034cd3a198a2e8ed4722a14d" name="a14284318034cd3a198a2e8ed4722a14d"></a>
Vector3Int[]&#160;</td><td class="memItemRight" valign="bottom"><b>getNeighbourOffsetOdd</b> ()</td></tr>
<tr class="memitem:add0e0541aab1c9d384b9616305fe268a" id="r_add0e0541aab1c9d384b9616305fe268a"><td class="memItemLeft" align="right" valign="top"><a id="add0e0541aab1c9d384b9616305fe268a" name="add0e0541aab1c9d384b9616305fe268a"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>getCurMov</b> ()</td></tr>
<tr class="memitem:aa1a5ae49416983eed2e69a06c6958dea" id="r_aa1a5ae49416983eed2e69a06c6958dea"><td class="memItemLeft" align="right" valign="top"><a id="aa1a5ae49416983eed2e69a06c6958dea" name="aa1a5ae49416983eed2e69a06c6958dea"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setCurMov</b> (int <a class="el" href="#ad18eb62ab41e0b1047388cd12732f313">curMov</a>)</td></tr>
<tr class="memitem:ab962147226a7e5d03a02c2919b8873ef" id="r_ab962147226a7e5d03a02c2919b8873ef"><td class="memItemLeft" align="right" valign="top"><a id="ab962147226a7e5d03a02c2919b8873ef" name="ab962147226a7e5d03a02c2919b8873ef"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>getCurTurn</b> ()</td></tr>
<tr class="memitem:ad9fc21ba7d230cc0739d775b0ceba24d" id="r_ad9fc21ba7d230cc0739d775b0ceba24d"><td class="memItemLeft" align="right" valign="top"><a id="ad9fc21ba7d230cc0739d775b0ceba24d" name="ad9fc21ba7d230cc0739d775b0ceba24d"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setCurTurn</b> (int <a class="el" href="#ada6319aba4ba6f97ab2ef1196ec1310a">curTurn</a>)</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pub-static-methods" class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:ab417f78ec7035c2cc6bf70ad937e17d6" id="r_ab417f78ec7035c2cc6bf70ad937e17d6"><td class="memItemLeft" align="right" valign="top">static List&lt; Vector3Int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab417f78ec7035c2cc6bf70ad937e17d6">detectTilesInRange</a> (Vector3Int center, int range, Tilemap <a class="el" href="#aa104f953fa4a086627093e380e2f9af3">tileMap</a>)</td></tr>
<tr class="memdesc:ab417f78ec7035c2cc6bf70ad937e17d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">If the troop is enhanced, it will notify the <a class="el" href="class_turn_manager.html">TurnManager</a> that an enhanced summon was performed.  <br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pub-attribs" class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:aa104f953fa4a086627093e380e2f9af3" id="r_aa104f953fa4a086627093e380e2f9af3"><td class="memItemLeft" align="right" valign="top">Tilemap&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa104f953fa4a086627093e380e2f9af3">tileMap</a></td></tr>
<tr class="memitem:a5a4df360dfa244bed5bec08975a08c69" id="r_a5a4df360dfa244bed5bec08975a08c69"><td class="memItemLeft" align="right" valign="top"><a id="a5a4df360dfa244bed5bec08975a08c69" name="a5a4df360dfa244bed5bec08975a08c69"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>isFluct</b> = true</td></tr>
<tr class="memdesc:a5a4df360dfa244bed5bec08975a08c69"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reference to the tile of the map, mainly used by reachableTiles and to update the tiles's states. <br /></td></tr>
<tr class="memitem:a5342341c71f797cb38d2feaf4e9667f3" id="r_a5342341c71f797cb38d2feaf4e9667f3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5342341c71f797cb38d2feaf4e9667f3">nbMov</a> =1</td></tr>
<tr class="memdesc:a5342341c71f797cb38d2feaf4e9667f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Specify the type of the piece (basically P1 or P2)  <br /></td></tr>
<tr class="memitem:af9c57cc74fe56eda158d716cde8b74c1" id="r_af9c57cc74fe56eda158d716cde8b74c1"><td class="memItemLeft" align="right" valign="top"><a id="af9c57cc74fe56eda158d716cde8b74c1" name="af9c57cc74fe56eda158d716cde8b74c1"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>isSpecial</b> =false</td></tr>
<tr class="memdesc:af9c57cc74fe56eda158d716cde8b74c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Nb of movement a piece can do. <br /></td></tr>
<tr class="memitem:a786af65e360361ca3a3e7e27845a5dd5" id="r_a786af65e360361ca3a3e7e27845a5dd5"><td class="memItemLeft" align="right" valign="top"><a id="a786af65e360361ca3a3e7e27845a5dd5" name="a786af65e360361ca3a3e7e27845a5dd5"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>enhancedTroop</b> = false</td></tr>
<tr class="memdesc:a786af65e360361ca3a3e7e27845a5dd5"><td class="mdescLeft">&#160;</td><td class="mdescRight">The special pieces has different summoning turns, this bool is sent to <a class="el" href="class_turn_manager.html">TurnManager</a> in isSummonable. <br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pri-methods" class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a3b66df80d5d7ce3f57a75103238ebc40" id="r_a3b66df80d5d7ce3f57a75103238ebc40"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3b66df80d5d7ce3f57a75103238ebc40">phaseValidation</a> ()</td></tr>
<tr class="memdesc:a3b66df80d5d7ce3f57a75103238ebc40"><td class="mdescLeft">&#160;</td><td class="mdescRight">This will stock the coordinates of the tiles reachable by the piece.  <br /></td></tr>
<tr class="memitem:adbb927fb7c3934cf6b3aee8d160a8ce3" id="r_adbb927fb7c3934cf6b3aee8d160a8ce3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adbb927fb7c3934cf6b3aee8d160a8ce3">refreshMoves</a> ()</td></tr>
<tr class="memitem:a3427f58907fdbd06f76363eb8cfb1ee6" id="r_a3427f58907fdbd06f76363eb8cfb1ee6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3427f58907fdbd06f76363eb8cfb1ee6">useMove</a> ()</td></tr>
<tr class="memitem:ae9d48d1ae97c1c88482f92f7305d6c7c" id="r_ae9d48d1ae97c1c88482f92f7305d6c7c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae9d48d1ae97c1c88482f92f7305d6c7c">resetMap</a> ()</td></tr>
<tr class="memitem:afc20dd6cd191f04fe9548120af7a0456" id="r_afc20dd6cd191f04fe9548120af7a0456"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afc20dd6cd191f04fe9548120af7a0456">isSummonable</a> ()</td></tr>
<tr class="memitem:a7a85499dcfea1186de223dda6b860d25" id="r_a7a85499dcfea1186de223dda6b860d25"><td class="memItemLeft" align="right" valign="top">List&lt; Vector3Int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7a85499dcfea1186de223dda6b860d25">getReachableTiles</a> ()</td></tr>
<tr class="memitem:ae8ee87ac6b84432bac14b3ff87665055" id="r_ae8ee87ac6b84432bac14b3ff87665055"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae8ee87ac6b84432bac14b3ff87665055">OnMouseDown</a> ()</td></tr>
<tr class="memitem:a7d2cf21631d9dfceded98264a7cecdce" id="r_a7d2cf21631d9dfceded98264a7cecdce"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7d2cf21631d9dfceded98264a7cecdce">OnMouseDrag</a> ()</td></tr>
<tr class="memitem:abf5e65fb6d5fbab1823de9f0d189c0f8" id="r_abf5e65fb6d5fbab1823de9f0d189c0f8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abf5e65fb6d5fbab1823de9f0d189c0f8">OnMouseUp</a> ()</td></tr>
<tr class="memitem:a4a752b4f4033d96b0fcd273f99940bc9" id="r_a4a752b4f4033d96b0fcd273f99940bc9"><td class="memItemLeft" align="right" valign="top"><a id="a4a752b4f4033d96b0fcd273f99940bc9" name="a4a752b4f4033d96b0fcd273f99940bc9"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>Start</b> ()</td></tr>
<tr class="memitem:a4877f9164e970d09108d7e748c6714c9" id="r_a4877f9164e970d09108d7e748c6714c9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4877f9164e970d09108d7e748c6714c9">Update</a> ()</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pri-attribs" class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a42c5037ec324e5802de6ce850ff2364a" id="r_a42c5037ec324e5802de6ce850ff2364a"><td class="memItemLeft" align="right" valign="top"><a id="a42c5037ec324e5802de6ce850ff2364a" name="a42c5037ec324e5802de6ce850ff2364a"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>isLocked</b> = false</td></tr>
<tr class="memitem:ad18eb62ab41e0b1047388cd12732f313" id="r_ad18eb62ab41e0b1047388cd12732f313"><td class="memItemLeft" align="right" valign="top"><a id="ad18eb62ab41e0b1047388cd12732f313" name="ad18eb62ab41e0b1047388cd12732f313"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>curMov</b></td></tr>
<tr class="memdesc:ad18eb62ab41e0b1047388cd12732f313"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used to lock the piece when it is attacked by a Windrunner, so it can't move until it's unlocked. <br /></td></tr>
<tr class="memitem:ada6319aba4ba6f97ab2ef1196ec1310a" id="r_ada6319aba4ba6f97ab2ef1196ec1310a"><td class="memItemLeft" align="right" valign="top"><a id="ada6319aba4ba6f97ab2ef1196ec1310a" name="ada6319aba4ba6f97ab2ef1196ec1310a"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>curTurn</b> =1</td></tr>
<tr class="memdesc:ada6319aba4ba6f97ab2ef1196ec1310a"><td class="mdescLeft">&#160;</td><td class="mdescRight">The movement the player used with this piece -&gt; Allowing the player to move the same piece two times or more if nbMov&gt;1. <br /></td></tr>
<tr class="memitem:aee5b841b51055b7274b6637d09da95f0" id="r_aee5b841b51055b7274b6637d09da95f0"><td class="memItemLeft" align="right" valign="top"><a id="aee5b841b51055b7274b6637d09da95f0" name="aee5b841b51055b7274b6637d09da95f0"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>onMap</b> =false</td></tr>
<tr class="memitem:a3bec1043097722fe2f8f43e5f2edf068" id="r_a3bec1043097722fe2f8f43e5f2edf068"><td class="memItemLeft" align="right" valign="top"><a id="a3bec1043097722fe2f8f43e5f2edf068" name="a3bec1043097722fe2f8f43e5f2edf068"></a>
SpriteRenderer&#160;</td><td class="memItemRight" valign="bottom"><b>sr</b></td></tr>
<tr class="memdesc:a3bec1043097722fe2f8f43e5f2edf068"><td class="mdescLeft">&#160;</td><td class="mdescRight">Managers only manage pieces on board, so pieces each have its own onMap verifier. <br /></td></tr>
<tr class="memitem:a2f569dff06ee881f1c0ebcc4d60bf35e" id="r_a2f569dff06ee881f1c0ebcc4d60bf35e"><td class="memItemLeft" align="right" valign="top"><a id="a2f569dff06ee881f1c0ebcc4d60bf35e" name="a2f569dff06ee881f1c0ebcc4d60bf35e"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>waitClick</b> =false</td></tr>
<tr class="memdesc:a2f569dff06ee881f1c0ebcc4d60bf35e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Only used to drag : when dragging the piece will appear to be above the others. <br /></td></tr>
<tr class="memitem:a207fe350e2ee76c36d02bc7d5f68271a" id="r_a207fe350e2ee76c36d02bc7d5f68271a"><td class="memItemLeft" align="right" valign="top"><a id="a207fe350e2ee76c36d02bc7d5f68271a" name="a207fe350e2ee76c36d02bc7d5f68271a"></a>
Vector3Int&#160;</td><td class="memItemRight" valign="bottom"><b>curPos</b></td></tr>
<tr class="memdesc:a207fe350e2ee76c36d02bc7d5f68271a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used for "click and go" moves. <br /></td></tr>
<tr class="memitem:a2bbbf760cc76159c313b9aadbb3127ce" id="r_a2bbbf760cc76159c313b9aadbb3127ce"><td class="memItemLeft" align="right" valign="top"><a id="a2bbbf760cc76159c313b9aadbb3127ce" name="a2bbbf760cc76159c313b9aadbb3127ce"></a>
Vector3Int&#160;</td><td class="memItemRight" valign="bottom"><b>cellPos</b></td></tr>
<tr class="memdesc:a2bbbf760cc76159c313b9aadbb3127ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Current position of the piece. <br /></td></tr>
<tr class="memitem:af3f5248128d99e0da0cf887b7955a9c3" id="r_af3f5248128d99e0da0cf887b7955a9c3"><td class="memItemLeft" align="right" valign="top"><a id="af3f5248128d99e0da0cf887b7955a9c3" name="af3f5248128d99e0da0cf887b7955a9c3"></a>
List&lt; Vector3Int &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>reachableTiles</b></td></tr>
<tr class="memdesc:af3f5248128d99e0da0cf887b7955a9c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">New cell selected. <br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pri-static-attribs" class="groupheader"><a id="pri-static-attribs" name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr class="memitem:a61fca1e21e1f8815a9905a92e14c77c2" id="r_a61fca1e21e1f8815a9905a92e14c77c2"><td class="memItemLeft" align="right" valign="top">static Vector3Int[]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a61fca1e21e1f8815a9905a92e14c77c2">neighbourOffsetOdd</a></td></tr>
<tr class="memdesc:a61fca1e21e1f8815a9905a92e14c77c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used to reset curMov, as it's its only purpose, it's not in <a class="el" href="class_turn_manager.html">TurnManager</a> to simplify. Each piece will reset itself instead of a manager doing it.  <br /></td></tr>
<tr class="memitem:aeac0fc96fc61d07a47356a34c3f48ea5" id="r_aeac0fc96fc61d07a47356a34c3f48ea5"><td class="memItemLeft" align="right" valign="top">static Vector3Int[]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aeac0fc96fc61d07a47356a34c3f48ea5">neighbourOffset</a></td></tr>
</table>
<a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Member Function Documentation</h2>
<a id="ab417f78ec7035c2cc6bf70ad937e17d6" name="ab417f78ec7035c2cc6bf70ad937e17d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab417f78ec7035c2cc6bf70ad937e17d6">&#9670;&#160;</a></span>detectTilesInRange()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">List&lt; Vector3Int &gt; PieceMovement.detectTilesInRange </td>
          <td>(</td>
          <td class="paramtype">Vector3Int</td>          <td class="paramname"><span class="paramname"><em>center</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>range</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Tilemap</td>          <td class="paramname"><span class="paramname"><em>tileMap</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>If the troop is enhanced, it will notify the <a class="el" href="class_turn_manager.html">TurnManager</a> that an enhanced summon was performed. </p>
<p>This method will detect the tiles in range of a piece, it will return a list of Vector3Int containing the coordinates of the tiles in range. The range is the depth of the search, each loop is one depth. The center is the position of the piece on the map. The tileMap is used to get the tiles on the map and to update their state.</p>

</div>
</div>
<a id="a7a85499dcfea1186de223dda6b860d25" name="a7a85499dcfea1186de223dda6b860d25"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a85499dcfea1186de223dda6b860d25">&#9670;&#160;</a></span>getReachableTiles()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">List&lt; Vector3Int &gt; PieceMovement.getReachableTiles </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This method is used to get the reachable tiles of the piece based on the number of its move allowed each turn, it will return a list of Vector3Int containing the coordinates of the reachable tiles. The method will use a map traversal algorithm to find the reachable tiles. The curMov is used to determine the depth of the search, each loop is one depth. The onMap is used to determine if the piece is on the map or not.</p>

</div>
</div>
<a id="ad1bb0e895043145c393c051db6a2ac58" name="ad1bb0e895043145c393c051db6a2ac58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1bb0e895043145c393c051db6a2ac58">&#9670;&#160;</a></span>IsLocked()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool PieceMovement.IsLocked </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return if the piece is locked or not</p>

</div>
</div>
<a id="afc20dd6cd191f04fe9548120af7a0456" name="afc20dd6cd191f04fe9548120af7a0456"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc20dd6cd191f04fe9548120af7a0456">&#9670;&#160;</a></span>isSummonable()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool PieceMovement.isSummonable </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This method is used to check if the piece can be summoned on the selected tile, it will return true if the piece can be summoned.</p>
<p>Base Conditions for a base piece to be summonable :</p><ul>
<li>The tile selected is on the map</li>
<li>The tile selected is an Summoning Tile</li>
<li>The tile selected is an Summoning Tile of the color of the piece</li>
<li>The tile selected is not occupied</li>
<li>The turn on which the piece has been summoned is a summoning turn</li>
<li>The max number of summon this turn is not reached (managed by <a class="el" href="class_turn_manager.html">TurnManager</a>)</li>
</ul>

</div>
</div>
<a id="ad1f11c258c3aa9645b128a07c9619d23" name="ad1f11c258c3aa9645b128a07c9619d23"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1f11c258c3aa9645b128a07c9619d23">&#9670;&#160;</a></span>lockPiece()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PieceMovement.lockPiece </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Lock the piece, it can't move until it's unlocked</p>

</div>
</div>
<a id="a4c04801b5e78e6082c04c506f3745449" name="a4c04801b5e78e6082c04c506f3745449"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c04801b5e78e6082c04c506f3745449">&#9670;&#160;</a></span>moveTo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PieceMovement.moveTo </td>
          <td>(</td>
          <td class="paramtype">Vector3Int</td>          <td class="paramname"><span class="paramname"><em>newPos</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This method is used to move the piece to a new position on the map, updating the position of the piece, the tile state and the piece state in the respecting managers.</p>

</div>
</div>
<a id="ae8ee87ac6b84432bac14b3ff87665055" name="ae8ee87ac6b84432bac14b3ff87665055"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8ee87ac6b84432bac14b3ff87665055">&#9670;&#160;</a></span>OnMouseDown()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void PieceMovement.OnMouseDown </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This method is used to handle the mouse down event on the piece, it will update the state of the piece and the reachable tiles if it's the player's turn and if the phase is valid. It will also reset the reachable tiles to avoid bugs. The method will also update the state of the piece in the <a class="el" href="class_piece_state_manager.html">PieceStateManager</a>. It enables the "selected" state of the piece by scaling it up and changing its sorting order (for dragging effect).</p>

</div>
</div>
<a id="a7d2cf21631d9dfceded98264a7cecdce" name="a7d2cf21631d9dfceded98264a7cecdce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d2cf21631d9dfceded98264a7cecdce">&#9670;&#160;</a></span>OnMouseDrag()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void PieceMovement.OnMouseDrag </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Just a visual code for the piece to follow the mouse on drag</p>

</div>
</div>
<a id="abf5e65fb6d5fbab1823de9f0d189c0f8" name="abf5e65fb6d5fbab1823de9f0d189c0f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf5e65fb6d5fbab1823de9f0d189c0f8">&#9670;&#160;</a></span>OnMouseUp()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void PieceMovement.OnMouseUp </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This method is crucial for the class, it is the verifier that allow the move of the piece (or its summon). it will handle the mouse up event on the piece, it will update the state of the piece and the reachable tiles if it's the player's turn and if the phase is valid. It will also reset the reachable tiles to avoid bugs. The method will also update the state of the piece in the <a class="el" href="class_piece_state_manager.html">PieceStateManager</a>. It disables the "selected" state of the piece by scaling it down and changing its sorting order (for dragging effect).</p>

</div>
</div>
<a id="a3b66df80d5d7ce3f57a75103238ebc40" name="a3b66df80d5d7ce3f57a75103238ebc40"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b66df80d5d7ce3f57a75103238ebc40">&#9670;&#160;</a></span>phaseValidation()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool PieceMovement.phaseValidation </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This will stock the coordinates of the tiles reachable by the piece. </p>
<p>This method is used to validate the phase of the game, it will return true if the phase is valid for the piece to move or summon.</p>

</div>
</div>
<a id="adbb927fb7c3934cf6b3aee8d160a8ce3" name="adbb927fb7c3934cf6b3aee8d160a8ce3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adbb927fb7c3934cf6b3aee8d160a8ce3">&#9670;&#160;</a></span>refreshMoves()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void PieceMovement.refreshMoves </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>refreshMoves is used to refresh curMov</p>

</div>
</div>
<a id="ae9d48d1ae97c1c88482f92f7305d6c7c" name="ae9d48d1ae97c1c88482f92f7305d6c7c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9d48d1ae97c1c88482f92f7305d6c7c">&#9670;&#160;</a></span>resetMap()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void PieceMovement.resetMap </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This method is used to reset the map after a move or a summon, it will reset the state of the tiles to basic and refresh them.</p>

</div>
</div>
<a id="af4421cb1c3344bce2a03b33c0122fb17" name="af4421cb1c3344bce2a03b33c0122fb17"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4421cb1c3344bce2a03b33c0122fb17">&#9670;&#160;</a></span>unlockPiece()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PieceMovement.unlockPiece </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Unlock the piece, it can move again</p>

</div>
</div>
<a id="a4877f9164e970d09108d7e748c6714c9" name="a4877f9164e970d09108d7e748c6714c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4877f9164e970d09108d7e748c6714c9">&#9670;&#160;</a></span>Update()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void PieceMovement.Update </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Update is the second verifier of the move (for "click and go" moves), it will check if the player clicked on a tile and if the move is valid.</p>

</div>
</div>
<a id="a3427f58907fdbd06f76363eb8cfb1ee6" name="a3427f58907fdbd06f76363eb8cfb1ee6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3427f58907fdbd06f76363eb8cfb1ee6">&#9670;&#160;</a></span>useMove()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void PieceMovement.useMove </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>useMove is used to decrement curMov of the number of moves used by the piece</p>

</div>
</div>
<a name="doc-variable-members" id="doc-variable-members"></a><h2 id="header-doc-variable-members" class="groupheader">Member Data Documentation</h2>
<a id="a5342341c71f797cb38d2feaf4e9667f3" name="a5342341c71f797cb38d2feaf4e9667f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5342341c71f797cb38d2feaf4e9667f3">&#9670;&#160;</a></span>nbMov</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int PieceMovement.nbMov =1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Specify the type of the piece (basically P1 or P2) </p>
<p>For now, nbMov's range is between 1 and 5 </p>

</div>
</div>
<a id="aeac0fc96fc61d07a47356a34c3f48ea5" name="aeac0fc96fc61d07a47356a34c3f48ea5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeac0fc96fc61d07a47356a34c3f48ea5">&#9670;&#160;</a></span>neighbourOffset</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Vector3Int [] PieceMovement.neighbourOffset</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= <span class="keyword">new</span> Vector3Int[]{ </div>
<div class="line">        <span class="keyword">new</span> Vector3Int(-1,1,0), </div>
<div class="line">        <span class="keyword">new</span> Vector3Int(0,1,0), </div>
<div class="line">        <span class="keyword">new</span> Vector3Int(1,0,0), </div>
<div class="line">        <span class="keyword">new</span> Vector3Int(0,-1,0), </div>
<div class="line">        <span class="keyword">new</span> Vector3Int(-1,-1,0), </div>
<div class="line">        <span class="keyword">new</span> Vector3Int(-1,0,0), </div>
<div class="line">    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a61fca1e21e1f8815a9905a92e14c77c2" name="a61fca1e21e1f8815a9905a92e14c77c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61fca1e21e1f8815a9905a92e14c77c2">&#9670;&#160;</a></span>neighbourOffsetOdd</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Vector3Int [] PieceMovement.neighbourOffsetOdd</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= <span class="keyword">new</span> Vector3Int[]{ </div>
<div class="line">        <span class="keyword">new</span> Vector3Int(0,1,0), </div>
<div class="line">        <span class="keyword">new</span> Vector3Int(1,1,0), </div>
<div class="line">        <span class="keyword">new</span> Vector3Int(1,0,0), </div>
<div class="line">        <span class="keyword">new</span> Vector3Int(1,-1,0), </div>
<div class="line">        <span class="keyword">new</span> Vector3Int(0,-1,0), </div>
<div class="line">        <span class="keyword">new</span> Vector3Int(-1,0,0), </div>
<div class="line">    }</div>
</div><!-- fragment -->
<p>Used to reset curMov, as it's its only purpose, it's not in <a class="el" href="class_turn_manager.html">TurnManager</a> to simplify. Each piece will reset itself instead of a manager doing it. </p>

</div>
</div>
<a id="aa104f953fa4a086627093e380e2f9af3" name="aa104f953fa4a086627093e380e2f9af3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa104f953fa4a086627093e380e2f9af3">&#9670;&#160;</a></span>tileMap</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Tilemap PieceMovement.tileMap</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This class is used to manage the movement of the pieces on the map. It will handle the movement of the pieces, the detection of reachable tiles, and the interaction with the user. It will also handle the summoning of pieces on the map. The class is used by <a class="el" href="class_piece_interaction_manager.html">PieceInteractionManager</a> to manage the interaction with the user. It is also used by <a class="el" href="class_turn_manager.html">TurnManager</a> to manage the turn of the pieces. It is also used by <a class="el" href="class_phase_manager.html">PhaseManager</a> to manage the phase of the game. It unfortunately has a lot of global variables (is fluct, offset of tiles research, etc...), but the split will be done later </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>C:/Users/rzong/Desktop/ISART/Admission_Preparation/UnityProject/Roshar/Assets/Scripts/PieceScripts/<b>PieceMovement.cs</b></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="class_piece_movement.html">PieceMovement</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
