<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>RosharDocs: PieceInteractionManager Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">RosharDocs
   </div>
   <div id="projectbrief">Documentation for William&#39;s game</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('class_piece_interaction_manager.html','','class_piece_interaction_manager-members'); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">PieceInteractionManager Class Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for PieceInteractionManager:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_piece_interaction_manager.png" alt=""/>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pub-methods" class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a3d336b8fe0fde8215bf0a4a31bd24687" id="r_a3d336b8fe0fde8215bf0a4a31bd24687"><td class="memItemLeft" align="right" valign="top"><a id="a3d336b8fe0fde8215bf0a4a31bd24687" name="a3d336b8fe0fde8215bf0a4a31bd24687"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>isAPiece</b> (Vector3Int coor)</td></tr>
<tr class="memdesc:a3d336b8fe0fde8215bf0a4a31bd24687"><td class="mdescLeft">&#160;</td><td class="mdescRight">The piece that is currently selecting targets (the one that is attacking or using an effect) <br /></td></tr>
<tr class="memitem:ae656357203d42ab136c3aebaa21f1e39" id="r_ae656357203d42ab136c3aebaa21f1e39"><td class="memItemLeft" align="right" valign="top"><a id="ae656357203d42ab136c3aebaa21f1e39" name="ae656357203d42ab136c3aebaa21f1e39"></a>
Dictionary&lt; Vector3Int, GameObject &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>getFluctDictionnary</b> ()</td></tr>
<tr class="memitem:a3cb898789dc3e75bec54158ba92b8797" id="r_a3cb898789dc3e75bec54158ba92b8797"><td class="memItemLeft" align="right" valign="top"><a id="a3cb898789dc3e75bec54158ba92b8797" name="a3cb898789dc3e75bec54158ba92b8797"></a>
Dictionary&lt; Vector3Int, GameObject &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>getFusDictionnary</b> ()</td></tr>
<tr class="memitem:ad28370bb8f512a40d2426a4ed9a4ad96" id="r_ad28370bb8f512a40d2426a4ed9a4ad96"><td class="memItemLeft" align="right" valign="top">GameObject&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad28370bb8f512a40d2426a4ed9a4ad96">getPiece</a> (Vector3Int coor)</td></tr>
<tr class="memitem:a910e7fbbee5bebbb182615c9c5827355" id="r_a910e7fbbee5bebbb182615c9c5827355"><td class="memItemLeft" align="right" valign="top"><a id="a910e7fbbee5bebbb182615c9c5827355" name="a910e7fbbee5bebbb182615c9c5827355"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>isATarget</b> (Vector3Int coor)</td></tr>
<tr class="memitem:a4e0e510f1284c9f4f97870878356fdba" id="r_a4e0e510f1284c9f4f97870878356fdba"><td class="memItemLeft" align="right" valign="top"><a id="a4e0e510f1284c9f4f97870878356fdba" name="a4e0e510f1284c9f4f97870878356fdba"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setTargeter</b> (GameObject a)</td></tr>
<tr class="memdesc:a4e0e510f1284c9f4f97870878356fdba"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method checks if the given coordinates are in the list of targets. <br /></td></tr>
<tr class="memitem:a54a03def4fc22eb3ce1136b9a8185dae" id="r_a54a03def4fc22eb3ce1136b9a8185dae"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a54a03def4fc22eb3ce1136b9a8185dae">addTarget</a> (Vector3Int target)</td></tr>
<tr class="memdesc:a54a03def4fc22eb3ce1136b9a8185dae"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method sets the targeter GameObject, which is the piece that is currently selecting targets.  <br /></td></tr>
<tr class="memitem:afba2efa5253066a21e8c2dc85b78d7e7" id="r_afba2efa5253066a21e8c2dc85b78d7e7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afba2efa5253066a21e8c2dc85b78d7e7">updatePos</a> (GameObject p, Vector3Int pos, bool isFluct)</td></tr>
<tr class="memitem:a541d988751f82093c9351d0c1e3b93f3" id="r_a541d988751f82093c9351d0c1e3b93f3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a541d988751f82093c9351d0c1e3b93f3">addPiece</a> (GameObject p, Vector3Int pos, bool isFluct)</td></tr>
<tr class="memitem:a921e03492f9db5ff968989a0b945fe0d" id="r_a921e03492f9db5ff968989a0b945fe0d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a921e03492f9db5ff968989a0b945fe0d">remove</a> (Vector3Int key)</td></tr>
<tr class="memitem:afc0629d4904c1851e891ebffae5245e1" id="r_afc0629d4904c1851e891ebffae5245e1"><td class="memItemLeft" align="right" valign="top">List&lt; Vector3Int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afc0629d4904c1851e891ebffae5245e1">getAttackTargets</a> (List&lt; Vector3Int &gt; tiles, bool isFluct)</td></tr>
<tr class="memitem:a9893a8ea421c86e27a8da0a89a5af7ad" id="r_a9893a8ea421c86e27a8da0a89a5af7ad"><td class="memItemLeft" align="right" valign="top">List&lt; Vector3Int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9893a8ea421c86e27a8da0a89a5af7ad">getTargetOnMap</a> (bool isFluct)</td></tr>
<tr class="memitem:a4133a1267bc09936470e6ee460b4d747" id="r_a4133a1267bc09936470e6ee460b4d747"><td class="memItemLeft" align="right" valign="top">List&lt; Vector3Int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4133a1267bc09936470e6ee460b4d747">areTargeted</a> (List&lt; Vector3Int &gt; targetZone, bool isFluct)</td></tr>
<tr class="memitem:ac3203598d5c62630165987b7bd970369" id="r_ac3203598d5c62630165987b7bd970369"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac3203598d5c62630165987b7bd970369">resetTargets</a> (bool allies=false)</td></tr>
<tr class="memitem:ac2ad682202e320c2bdaa6eac3de4f4b8" id="r_ac2ad682202e320c2bdaa6eac3de4f4b8"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac2ad682202e320c2bdaa6eac3de4f4b8">hasNeighbor&lt; T &gt;</a> (Vector3Int pos, bool player=false, bool isFluct=false)</td></tr>
<tr class="memitem:aedf384b38466d130b254e388b5620187" id="r_aedf384b38466d130b254e388b5620187"><td class="memItemLeft" align="right" valign="top">T&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aedf384b38466d130b254e388b5620187">getNeighborComponent&lt; T &gt;</a> (Vector3Int pos, bool player=false, bool isFluct=false)</td></tr>
<tr class="memitem:ad8b1b858a270b2ecd0ad8c83ba2d6af9" id="r_ad8b1b858a270b2ecd0ad8c83ba2d6af9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad8b1b858a270b2ecd0ad8c83ba2d6af9">attack</a> (Vector3Int defender, bool isFluct)</td></tr>
<tr class="memitem:a94b4472c18018b5653d7fff835e6c614" id="r_a94b4472c18018b5653d7fff835e6c614"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a94b4472c18018b5653d7fff835e6c614">protect</a> (int dmgReduction)</td></tr>
<tr class="memitem:af2d2cc345ba4fcfbf23a47a7f8e46498" id="r_af2d2cc345ba4fcfbf23a47a7f8e46498"><td class="memItemLeft" align="right" valign="top">List&lt; GameObject &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af2d2cc345ba4fcfbf23a47a7f8e46498">findName</a> (string name)</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pub-attribs" class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a92eb60a9cc21bd80c225bb317b4ae738" id="r_a92eb60a9cc21bd80c225bb317b4ae738"><td class="memItemLeft" align="right" valign="top"><a id="a92eb60a9cc21bd80c225bb317b4ae738" name="a92eb60a9cc21bd80c225bb317b4ae738"></a>
GameObject&#160;</td><td class="memItemRight" valign="bottom"><b>fused</b></td></tr>
<tr class="memitem:afb5a466c819c513aa1f10f9fa18cbdee" id="r_afb5a466c819c513aa1f10f9fa18cbdee"><td class="memItemLeft" align="right" valign="top"><a id="afb5a466c819c513aa1f10f9fa18cbdee" name="afb5a466c819c513aa1f10f9fa18cbdee"></a>
GameObject&#160;</td><td class="memItemRight" valign="bottom"><b>fluctuomancers</b></td></tr>
<tr class="memitem:abdf746ae56491272234f7303b4d8e542" id="r_abdf746ae56491272234f7303b4d8e542"><td class="memItemLeft" align="right" valign="top"><a id="abdf746ae56491272234f7303b4d8e542" name="abdf746ae56491272234f7303b4d8e542"></a>
Color&#160;</td><td class="memItemRight" valign="bottom"><b>targetColor</b> = new Color(165f/255f,165f/255f,165f/255f)</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pub-static-attribs" class="groupheader"><a id="pub-static-attribs" name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:ab9589d4619d17409b178b3b14f4ba16e" id="r_ab9589d4619d17409b178b3b14f4ba16e"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="class_piece_interaction_manager.html">PieceInteractionManager</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab9589d4619d17409b178b3b14f4ba16e">Instance</a></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pri-methods" class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:aa28a2acc17c573caf6aeda850a4cd316" id="r_aa28a2acc17c573caf6aeda850a4cd316"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa28a2acc17c573caf6aeda850a4cd316">initDicts</a> ()</td></tr>
<tr class="memitem:a853ca9564e70341a5a31fe3a0ef168d1" id="r_a853ca9564e70341a5a31fe3a0ef168d1"><td class="memItemLeft" align="right" valign="top"><a id="a853ca9564e70341a5a31fe3a0ef168d1" name="a853ca9564e70341a5a31fe3a0ef168d1"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>Awake</b> ()</td></tr>
<tr class="memitem:abf01d3eabc20fd92b9d2db6140b4af1a" id="r_abf01d3eabc20fd92b9d2db6140b4af1a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abf01d3eabc20fd92b9d2db6140b4af1a">Start</a> ()</td></tr>
<tr class="memitem:abdacb0a8f46ce00b56ca3fecf62e0f67" id="r_abdacb0a8f46ce00b56ca3fecf62e0f67"><td class="memItemLeft" align="right" valign="top"><a id="abdacb0a8f46ce00b56ca3fecf62e0f67" name="abdacb0a8f46ce00b56ca3fecf62e0f67"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>Update</b> ()</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pri-attribs" class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a236d2c5eed7e18771fd29468a4cd26b6" id="r_a236d2c5eed7e18771fd29468a4cd26b6"><td class="memItemLeft" align="right" valign="top"><a id="a236d2c5eed7e18771fd29468a4cd26b6" name="a236d2c5eed7e18771fd29468a4cd26b6"></a>
Dictionary&lt; Vector3Int, GameObject &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>fluct</b> =new()</td></tr>
<tr class="memitem:a015b13262b2c939664ce10609ab4e2f7" id="r_a015b13262b2c939664ce10609ab4e2f7"><td class="memItemLeft" align="right" valign="top"><a id="a015b13262b2c939664ce10609ab4e2f7" name="a015b13262b2c939664ce10609ab4e2f7"></a>
Dictionary&lt; Vector3Int, GameObject &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>fus</b> =new()</td></tr>
<tr class="memdesc:a015b13262b2c939664ce10609ab4e2f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dictionary to store fluctuomancer pieces with their coordinates as keys. <br /></td></tr>
<tr class="memitem:a947ecb4bad9b35d0cd959a9585fcc650" id="r_a947ecb4bad9b35d0cd959a9585fcc650"><td class="memItemLeft" align="right" valign="top"><a id="a947ecb4bad9b35d0cd959a9585fcc650" name="a947ecb4bad9b35d0cd959a9585fcc650"></a>
List&lt; Vector3Int &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>listOfTargets</b> =new()</td></tr>
<tr class="memdesc:a947ecb4bad9b35d0cd959a9585fcc650"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dictionary to store fused pieces with their coordinates as keys. <br /></td></tr>
<tr class="memitem:ac7b855918f35778f250adfe05eb44324" id="r_ac7b855918f35778f250adfe05eb44324"><td class="memItemLeft" align="right" valign="top"><a id="ac7b855918f35778f250adfe05eb44324" name="ac7b855918f35778f250adfe05eb44324"></a>
List&lt; Vector3Int &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>attackRange</b> =new()</td></tr>
<tr class="memdesc:ac7b855918f35778f250adfe05eb44324"><td class="mdescLeft">&#160;</td><td class="mdescRight">List to store the coordinates of targeted pieces. <br /></td></tr>
</table>
<a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Member Function Documentation</h2>
<a id="a541d988751f82093c9351d0c1e3b93f3" name="a541d988751f82093c9351d0c1e3b93f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a541d988751f82093c9351d0c1e3b93f3">&#9670;&#160;</a></span>addPiece()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PieceInteractionManager.addPiece </td>
          <td>(</td>
          <td class="paramtype">GameObject</td>          <td class="paramname"><span class="paramname"><em>p</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Vector3Int</td>          <td class="paramname"><span class="paramname"><em>pos</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>isFluct</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This method adds a piece to the interaction dictionaries. It checks if the piece is a fluctuomancer or a fused piece and adds it to the corresponding dictionary. If a piece already exists at the given position, it logs a warning.</p>

</div>
</div>
<a id="a54a03def4fc22eb3ce1136b9a8185dae" name="a54a03def4fc22eb3ce1136b9a8185dae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54a03def4fc22eb3ce1136b9a8185dae">&#9670;&#160;</a></span>addTarget()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PieceInteractionManager.addTarget </td>
          <td>(</td>
          <td class="paramtype">Vector3Int</td>          <td class="paramname"><span class="paramname"><em>target</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This method sets the targeter GameObject, which is the piece that is currently selecting targets. </p>
<p>This method adds a target to the list of targets if it is not already present</p>

</div>
</div>
<a id="a4133a1267bc09936470e6ee460b4d747" name="a4133a1267bc09936470e6ee460b4d747"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4133a1267bc09936470e6ee460b4d747">&#9670;&#160;</a></span>areTargeted()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">List&lt; Vector3Int &gt; PieceInteractionManager.areTargeted </td>
          <td>(</td>
          <td class="paramtype">List&lt; Vector3Int &gt;</td>          <td class="paramname"><span class="paramname"><em>targetZone</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>isFluct</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This method targets the pieces in the given area. If we enter isFluct as true, it will target all fused in the area, and vice versa. It updates the color of the targeted pieces to indicate that they are selected as targets. It returns a list of coordinates of the targeted pieces. So this method also works as a filter to take only pieces from the zone target.</p>

</div>
</div>
<a id="ad8b1b858a270b2ecd0ad8c83ba2d6af9" name="ad8b1b858a270b2ecd0ad8c83ba2d6af9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8b1b858a270b2ecd0ad8c83ba2d6af9">&#9670;&#160;</a></span>attack()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PieceInteractionManager.attack </td>
          <td>(</td>
          <td class="paramtype">Vector3Int</td>          <td class="paramname"><span class="paramname"><em>defender</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>isFluct</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This method handles the attack action. It checks if the targeter is not null and if the defender is in the list of targets. If so, it calculates the damage based on the attacker's current attack and a random d4 roll (if the attacker has d4 roll atk). It then applies the damage to the defender's <a class="el" href="class_piece_attack.html">PieceAttack</a> component. Finally, it resets the targets and clears the targeter.</p>

</div>
</div>
<a id="af2d2cc345ba4fcfbf23a47a7f8e46498" name="af2d2cc345ba4fcfbf23a47a7f8e46498"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2d2cc345ba4fcfbf23a47a7f8e46498">&#9670;&#160;</a></span>findName()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">List&lt; GameObject &gt; PieceInteractionManager.findName </td>
          <td>(</td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>name</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This method will return a list of GameObjects that have the specified name in their <a class="el" href="class_piece_attributes.html">PieceAttributes</a> component</p>

</div>
</div>
<a id="afc0629d4904c1851e891ebffae5245e1" name="afc0629d4904c1851e891ebffae5245e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc0629d4904c1851e891ebffae5245e1">&#9670;&#160;</a></span>getAttackTargets()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">List&lt; Vector3Int &gt; PieceInteractionManager.getAttackTargets </td>
          <td>(</td>
          <td class="paramtype">List&lt; Vector3Int &gt;</td>          <td class="paramname"><span class="paramname"><em>tiles</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>isFluct</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This method retrieves the attack targets based on the given tiles and whether the piece is a fluctuomancer or a fused piece. It updates the tile states to indicate that they are in attack range and returns a list of target coordinates. If targeter is a fluctuomancer, it will look for and return fused pieces as targets, and vice versa.</p>

</div>
</div>
<a id="aedf384b38466d130b254e388b5620187" name="aedf384b38466d130b254e388b5620187"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aedf384b38466d130b254e388b5620187">&#9670;&#160;</a></span>getNeighborComponent&lt; T &gt;()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">T PieceInteractionManager.getNeighborComponent&lt; T &gt; </td>
          <td>(</td>
          <td class="paramtype">Vector3Int</td>          <td class="paramname"><span class="paramname"><em>pos</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>player</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>isFluct</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This method checks if there is a neighboring piece of type T at the given position. If player is true, it will only check for pieces that belong to the player of the selected piece. If isFluct is true, it will check for fluctuomancers, otherwise it will check for fused pieces. It returns the first found neighbor piece of type T or null if none is found.</p>
<div class="typeconstraint">
<dl><dt><b>Type Constraints</b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>T</em></td><td>&#160;:</td><td valign="top"><em>Component</em></td><td>&#160;</td></tr>
</table>
</dd>
</dl>
</div>

</div>
</div>
<a id="ad28370bb8f512a40d2426a4ed9a4ad96" name="ad28370bb8f512a40d2426a4ed9a4ad96"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad28370bb8f512a40d2426a4ed9a4ad96">&#9670;&#160;</a></span>getPiece()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GameObject PieceInteractionManager.getPiece </td>
          <td>(</td>
          <td class="paramtype">Vector3Int</td>          <td class="paramname"><span class="paramname"><em>coor</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This method returns the GameObject of a piece at the given coordinates</p>

</div>
</div>
<a id="a9893a8ea421c86e27a8da0a89a5af7ad" name="a9893a8ea421c86e27a8da0a89a5af7ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9893a8ea421c86e27a8da0a89a5af7ad">&#9670;&#160;</a></span>getTargetOnMap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">List&lt; Vector3Int &gt; PieceInteractionManager.getTargetOnMap </td>
          <td>(</td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>isFluct</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This method retrieves the target pieces on the map based on whether the piece is a fluctuomancer or a fused piece. if we select fluctuomancers, it will return the coordinates of all fluctuomancers that are on the map, and vice versa.</p>

</div>
</div>
<a id="ac2ad682202e320c2bdaa6eac3de4f4b8" name="ac2ad682202e320c2bdaa6eac3de4f4b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2ad682202e320c2bdaa6eac3de4f4b8">&#9670;&#160;</a></span>hasNeighbor&lt; T &gt;()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool PieceInteractionManager.hasNeighbor&lt; T &gt; </td>
          <td>(</td>
          <td class="paramtype">Vector3Int</td>          <td class="paramname"><span class="paramname"><em>pos</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>player</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>isFluct</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>If player is true, it will only check the player's pieces</p>
<p>This method checks if there is a neighboring piece of type T at the given position. If player is true, it will only check for pieces that belong to the player of the selected piece. If isFluct is true, it will check for fluctuomancers, otherwise it will check for fused pieces.</p>
<div class="typeconstraint">
<dl><dt><b>Type Constraints</b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>T</em></td><td>&#160;:</td><td valign="top"><em>Component</em></td><td>&#160;</td></tr>
</table>
</dd>
</dl>
</div>

</div>
</div>
<a id="aa28a2acc17c573caf6aeda850a4cd316" name="aa28a2acc17c573caf6aeda850a4cd316"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa28a2acc17c573caf6aeda850a4cd316">&#9670;&#160;</a></span>initDicts()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void PieceInteractionManager.initDicts </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This method initializes the interaction dictionaries with the current pieces in the scene.</p>

</div>
</div>
<a id="a94b4472c18018b5653d7fff835e6c614" name="a94b4472c18018b5653d7fff835e6c614"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94b4472c18018b5653d7fff835e6c614">&#9670;&#160;</a></span>protect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PieceInteractionManager.protect </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>dmgReduction</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This method handles the protection action. It checks if the targeter is not null and applies the damage reduction to all targeted pieces. It iterates through the list of targets and applies the damage reduction to each piece's <a class="el" href="class_piece_attack.html">PieceAttack</a> component.</p>

</div>
</div>
<a id="a921e03492f9db5ff968989a0b945fe0d" name="a921e03492f9db5ff968989a0b945fe0d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a921e03492f9db5ff968989a0b945fe0d">&#9670;&#160;</a></span>remove()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PieceInteractionManager.remove </td>
          <td>(</td>
          <td class="paramtype">Vector3Int</td>          <td class="paramname"><span class="paramname"><em>key</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This method removes a piece from the interaction dictionaries based on its coordinates.</p>

</div>
</div>
<a id="ac3203598d5c62630165987b7bd970369" name="ac3203598d5c62630165987b7bd970369"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3203598d5c62630165987b7bd970369">&#9670;&#160;</a></span>resetTargets()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PieceInteractionManager.resetTargets </td>
          <td>(</td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>allies</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This method resets the targets' colors and clears the list of targets. It also updates the tile states to indicate that they are no longer in attack range. If the bool allies is true, it will reset the colors of the allies' pieces, otherwise it will reset the enemies' pieces.</p>

</div>
</div>
<a id="abf01d3eabc20fd92b9d2db6140b4af1a" name="abf01d3eabc20fd92b9d2db6140b4af1a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf01d3eabc20fd92b9d2db6140b4af1a">&#9670;&#160;</a></span>Start()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void PieceInteractionManager.Start </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Activate all unlocked pieces in the game until now</p>

</div>
</div>
<a id="afba2efa5253066a21e8c2dc85b78d7e7" name="afba2efa5253066a21e8c2dc85b78d7e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afba2efa5253066a21e8c2dc85b78d7e7">&#9670;&#160;</a></span>updatePos()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PieceInteractionManager.updatePos </td>
          <td>(</td>
          <td class="paramtype">GameObject</td>          <td class="paramname"><span class="paramname"><em>p</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Vector3Int</td>          <td class="paramname"><span class="paramname"><em>pos</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>isFluct</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This method updates the position of a piece in the interaction dictionaries. It checks if the piece is a fluctuomancer or a fused piece and updates the corresponding dictionary. If the piece already exists in the dictionnary, it updates its coordinates. If it doesn't exist, it adds the piece to the dictionary at the new position.</p>
<p>fus[oldKey]=null;</p>

</div>
</div>
<a name="doc-variable-members" id="doc-variable-members"></a><h2 id="header-doc-variable-members" class="groupheader">Member Data Documentation</h2>
<a id="ab9589d4619d17409b178b3b14f4ba16e" name="ab9589d4619d17409b178b3b14f4ba16e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9589d4619d17409b178b3b14f4ba16e">&#9670;&#160;</a></span>Instance</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_piece_interaction_manager.html">PieceInteractionManager</a> PieceInteractionManager.Instance</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This class manages the interactions between pieces in the game. It handles the addition, removal, and updating of pieces on the map, as well as managing target selection and filtering target for attacks or effects. It also provides methods to check for neighboring pieces and to handle attacks. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>C:/Users/rzong/Desktop/ISART/Admission_Preparation/UnityProject/Roshar/Assets/Scripts/GameManagers/<b>PieceInteractionManager.cs</b></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="class_piece_interaction_manager.html">PieceInteractionManager</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
